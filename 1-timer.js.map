{"version":3,"file":"1-timer.js","sources":["../src/js/1-timer.js"],"sourcesContent":["import flatpickr from \"flatpickr\";\nimport \"flatpickr/dist/flatpickr.min.css\";\nimport iziToast from \"izitoast\";\nimport \"izitoast/dist/css/iziToast.min.css\";\n\nconst datetimePicker = document.getElementById('datetime-picker');\nconst startBtn = document.querySelector('button[data-start]');\nconst daysSpan = document.querySelector('[data-days]');\nconst hoursSpan = document.querySelector('[data-hours]');\nconst minutesSpan = document.querySelector('[data-minutes]');\nconst secondsSpan = document.querySelector('[data-seconds]');\n\nlet userSelectedDate = null;\nlet timerInterval = null;\n\nstartBtn.disabled = true;\n\nconst options = { \n    enableTime: true, \n    time_24hr: true, \n    defaultDate: new Date(), \n    minuteIncrement: 1, \n    onClose(selectedDates) {\n         const selectedDate = selectedDates[0]; \n         if (selectedDate <= new Date()) {\n             iziToast.error({ \n                title: 'Error', \n                message: 'Please choose a date in the future', \n            }); \n            startBtn.disabled = true; \n        } else { \n            userSelectedDate = selectedDate; \n            startBtn.disabled = false; \n        } \n    }, \n};\nflatpickr(datetimePicker, options); \nstartBtn.addEventListener('click', () => {\n     if (timerInterval) {\n         clearInterval(timerInterval); \n        } \n        startBtn.disabled = true; \n        datetimePicker.disabled = true; \n        timerInterval = setInterval(() => { \n            const now = new Date(); \n            const timeLeft = userSelectedDate - now; \n            if (timeLeft <= 0) { \n                clearInterval(timerInterval); \n                datetimePicker.disabled = false; \n                updateTimerDisplay(0, 0, 0, 0); \n                return; }\n                const { days, hours, minutes, seconds } = convertMs(timeLeft); \n                updateTimerDisplay(days, hours, minutes, seconds); \n            }, 1000); \n        });\n        function convertMs(ms) { \n            const second = 1000; \n            const minute = second * 60; \n            const hour = minute * 60; \n            const day = hour * 24; \n            const days = Math.floor(ms / day); \n            const hours = Math.floor((ms % day) / hour); \n            const minutes = Math.floor(((ms % day) % hour) / minute); \n            const seconds = Math.floor((((ms % day) % hour) % minute) / second); \n            return { days, hours, minutes, seconds }; \n        }\n\n        function updateTimerDisplay(days, hours, minutes, seconds) { \n            daysSpan.textContent = addLeadingZero(days); \n            hoursSpan.textContent = addLeadingZero(hours); \n            minutesSpan.textContent = addLeadingZero(minutes); \n            secondsSpan.textContent = addLeadingZero(seconds); \n        } \n        function addLeadingZero(value) { \n            return String(value).padStart(2, '0'); \n        }\n\n        document.body.style.display = 'flex'; \n        document.body.style.justifyContent = 'center'; \n        document.body.style.alignItems = 'center'; \n        document.body.style.height = '100vh'; \n        document.body.style.margin = '0';\n\n        const timer = document.querySelector('.timer'); \n        timer.style.display = 'flex'; \n        timer.style.gap = '20px'; \n        timer.style.fontSize = '48px'; \n        timer.style.fontWeight = 'bold';\n\n        const fields = document.querySelectorAll('.field'); \n        fields.forEach(field => { \n            field.style.display = 'flex'; \n            field.style.flexDirection = 'column'; \n            field.style.alignItems = 'center'; \n        });\n\n        const values = document.querySelectorAll('.value'); \n        values.forEach(value => { \n            value.style.fontSize = '72px'; \n            value.style.fontWeight = 'bold'; \n        });\n\n        const labels = document.querySelectorAll('.label'); \n        labels.forEach(label => { \n            label.style.fontSize = '24px'; \n            label.style.fontWeight = 'normal'; \n        });\n\n\n\n"],"names":["datetimePicker","startBtn","daysSpan","hoursSpan","minutesSpan","secondsSpan","userSelectedDate","timerInterval","options","selectedDates","selectedDate","iziToast","flatpickr","timeLeft","updateTimerDisplay","days","hours","minutes","seconds","convertMs","ms","addLeadingZero","value","timer","fields","field","values","labels","label"],"mappings":"2GAKA,MAAMA,EAAiB,SAAS,eAAe,iBAAiB,EAC1DC,EAAW,SAAS,cAAc,oBAAoB,EACtDC,EAAW,SAAS,cAAc,aAAa,EAC/CC,EAAY,SAAS,cAAc,cAAc,EACjDC,EAAc,SAAS,cAAc,gBAAgB,EACrDC,EAAc,SAAS,cAAc,gBAAgB,EAE3D,IAAIC,EAAmB,KACnBC,EAAgB,KAEpBN,EAAS,SAAW,GAEpB,MAAMO,EAAU,CACZ,WAAY,GACZ,UAAW,GACX,YAAa,IAAI,KACjB,gBAAiB,EACjB,QAAQC,EAAe,CAClB,MAAMC,EAAeD,EAAc,CAAC,EAChCC,GAAgB,IAAI,MACpBC,EAAS,MAAM,CACZ,MAAO,QACP,QAAS,oCACzB,CAAa,EACDV,EAAS,SAAW,KAEpBK,EAAmBI,EACnBT,EAAS,SAAW,GAE3B,CACL,EACAW,EAAUZ,EAAgBQ,CAAO,EACjCP,EAAS,iBAAiB,QAAS,IAAM,CAChCM,GACA,cAAcA,CAAa,EAE5BN,EAAS,SAAW,GACpBD,EAAe,SAAW,GAC1BO,EAAgB,YAAY,IAAM,CAE9B,MAAMM,EAAWP,EADL,IAAI,KAEhB,GAAIO,GAAY,EAAG,CACf,cAAcN,CAAa,EAC3BP,EAAe,SAAW,GAC1Bc,EAAmB,EAAG,EAAG,EAAG,CAAC,EAC7B,MAAS,CACT,KAAM,CAAE,KAAAC,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,GAAYC,EAAUN,CAAQ,EAC5DC,EAAmBC,EAAMC,EAAOC,EAASC,CAAO,CACnD,EAAE,GAAI,CACnB,CAAS,EACD,SAASC,EAAUC,EAAI,CAKnB,MAAML,EAAO,KAAK,MAAMK,EAAK,KAAG,EAC1BJ,EAAQ,KAAK,MAAOI,EAAK,MAAO,IAAI,EACpCH,EAAU,KAAK,MAAQG,EAAK,MAAO,KAAQ,GAAM,EACjDF,EAAU,KAAK,MAASE,EAAK,MAAO,KAAQ,IAAU,GAAM,EAClE,MAAO,CAAE,KAAAL,EAAM,MAAAC,EAAO,QAAAC,EAAS,QAAAC,CAAO,CACzC,CAED,SAASJ,EAAmBC,EAAMC,EAAOC,EAASC,EAAS,CACvDhB,EAAS,YAAcmB,EAAeN,CAAI,EAC1CZ,EAAU,YAAckB,EAAeL,CAAK,EAC5CZ,EAAY,YAAciB,EAAeJ,CAAO,EAChDZ,EAAY,YAAcgB,EAAeH,CAAO,CACnD,CACD,SAASG,EAAeC,EAAO,CAC3B,OAAO,OAAOA,CAAK,EAAE,SAAS,EAAG,GAAG,CACvC,CAED,SAAS,KAAK,MAAM,QAAU,OAC9B,SAAS,KAAK,MAAM,eAAiB,SACrC,SAAS,KAAK,MAAM,WAAa,SACjC,SAAS,KAAK,MAAM,OAAS,QAC7B,SAAS,KAAK,MAAM,OAAS,IAE7B,MAAMC,EAAQ,SAAS,cAAc,QAAQ,EAC7CA,EAAM,MAAM,QAAU,OACtBA,EAAM,MAAM,IAAM,OAClBA,EAAM,MAAM,SAAW,OACvBA,EAAM,MAAM,WAAa,OAEzB,MAAMC,EAAS,SAAS,iBAAiB,QAAQ,EACjDA,EAAO,QAAQC,GAAS,CACpBA,EAAM,MAAM,QAAU,OACtBA,EAAM,MAAM,cAAgB,SAC5BA,EAAM,MAAM,WAAa,QACrC,CAAS,EAED,MAAMC,EAAS,SAAS,iBAAiB,QAAQ,EACjDA,EAAO,QAAQJ,GAAS,CACpBA,EAAM,MAAM,SAAW,OACvBA,EAAM,MAAM,WAAa,MACrC,CAAS,EAED,MAAMK,EAAS,SAAS,iBAAiB,QAAQ,EACjDA,EAAO,QAAQC,GAAS,CACpBA,EAAM,MAAM,SAAW,OACvBA,EAAM,MAAM,WAAa,QACrC,CAAS"}